# Extended Google Dinosaur Game

이 프로젝트는 미니 프로젝트를 만들기 위해 C언어를 사용한 게임입니다.

## 설치

https://github.com/Jxino/Univ-Projects.git에서 DinoGame.c 파일을 다운로드하실 수 있습니다.

## 시작하기

vscode 2022 기준으로
```bash
gcc -o DinoGame DinoGame.c
```
```bash
./DinoGame
```
위의 명령어 두 개를 git bash 확장을 설치하고 터미널에 치면 실행됩니다.

## 주요 기능

- 피라미드가 장애물로 새롭게 추가된 구글의 공룡 게임을 플레이할 수 있습니다.
- 공룡과 장애물의 이동 속도를 사용자가 직접 조정할 수 있습니다.

## 알고리즘 설명

1. 공룡과 두 종류의 장애물 각각의 이동 변위를 입력받습니다.
2. 아무 키나 눌러 게임을 시작합니다.
3. 충돌 시 무한 반복문을 빠져나가고 즉시 게임은 종료됩니다.
4. 어떤 장애물을 출력할 지 임의로 정합니다.
5. 공룡과 장애물의 움직임을 계산합니다.
6. 공룡과 장애물을 출력합니다.
7. 일정 시간이 경과하면 점수를 1씩 올립니다.

## 원본 코드가 가진 문제점

1. 일부 헤더 파일 미포함: 원본 코드를 작성한 개발자는 C++ 컴파일러를 사용하였습니다. 따라서 해당 코드를 C언어로 작성할 때 포함시켜야 할 헤더 파일들이 누락되어 있습니다.
2. 부적절한 변수명 사용: gravity는 공룡의 단위 시간 당 이동 거리를 나타내는 변수입니다. 공룡의 수직 운동을 설명하기에는 부적절합니다.
3. 나쁜 가독성: main() 내부의 코드를 보았을 때 어떤 원리로 동작하는지 다른 사람들에게 납득시키기에 부적절합니다.

## 원본 코드를 수정한 사항

1. stdbool.h, time.h 헤더파일을 추가하였습니다.
2. gravity -> delta로 변경
3. 복잡한 작용을 하는 함수들을 통합하고 직관적이고 간단한 함수명 아래에 감추었습니다. main() 내부의 함수명만 읽어보면 알고리즘을 쉽게 이해할 수 있습니다.

## 추가한 사항

1. 공룡과 장애물의 단위 시간 당 이동 거리를 관리하는 'Delta' 구조체를 추가하였습니다.
2. 입력받은 난수로 공룡과 장애물을 제어하는 함수들을 추가하였습니다.
3. stdint.h 헤더 파일에 선언되어 있는 unit32_t 자료형을 사용하여 난수 생성 함수에서 발견되는 보안 문제를 해결하였습니다.

## 기여 방법

1. 이 저장소를 포크합니다.
2. 새로운 브랜치를 생성합니다: 
```bash
git checkout -b feature/새로운 기능
```
3. 변경 사항을 커밋합니다: 
```bash
git commit -m '새로운 기능 추가'
```
4. 원격 저장소에 푸시합니다: 
```bash
git push origin feature/새로운기능
```
5. 풀 리퀘스트를 생성합니다.

## 라이선스

이 프로젝트는 MIT 라이선스에 따라 배포됩니다.

---

이 코드는 https://github.com/BlockDMask/Google_Dino의 일부를 기반으로 작성되었습니다.

**https://github.com/BlockDMask/Google_Dino**: https://blockdmask.tistory.com/344

## 팀

- 개발자 1: 김진호
- 개발자 2: 박도현

## 알려진 문제

1. 장애물 추가를 위한 코드 수정이 어렵습니다.
2. 공룡과 장애물의 충돌 여부 판정이 정밀하지 않습니다.

## 개선사항

1. 공룡과 장애물의 변위 등의 정보를 담은 구조체와 그 구조체를 저장할 배열을 만들고 각각 동적 할당합니다.
2. 여러 번의 테스트를 거쳐 최선의 수치를 얻어냅니다.

## 강의 때 다루지 않은 함수, 구조체 등과 그를 포함하는 헤더 파일
 1) stdlib.h
     
     ```c
     system(): int system(const char* command);
     ```
     C 언어에서 외부 프로그램이나 명령을 실행하기 위해 사용됨. 시스템 명령어나 외부 프로그램을 실행하고, 해당 명령이 완료될 때까지 프로그램의 실행을 일시 중지함. 주로 터미널 명령어나 다른 프로그램을 실행하는데 사용됨.
 
 2) Windows.h
     
     ```c
     typedef struct _COORD {
         SHORT X;
         SHORT Y;
     } COORD;
     ```
     Windows API에서 사용되는 구조체로, "좌표"를 나타냄. 콘솔 창에서 특정 위치로 이동하거나 위치를 지정하는 데 사용됨.
     
     ```c    
     BOOL SetConsoleCursorPosition(
         HANDLE hConsoleOutput,
         COORD  dwCursorPosition
     );
     ```
     Windows API에서 제공하는 함수로, 콘솔 창의 커서 위치를 설정하는 데 사용됨. 콘솔 창 내의 특정 좌표로 커서를 
     이동시키는 데 활용됨.
     
     ```c
     HANDLE GetStdHandle(
         DWORD nStdHandle
     );
     ``` 
     표준 입출력 핸들을 얻기 위한 함수, 표준 입력(STD_INPUT_HANDLE), 표준 출력(STD_OUTPUT_HANDLE), 표준 에러(STD_ERROR_HANDLE)에 대한 핸들을 반환함. 이 함수를 사용하여 표준 입출력을 제어할 수 있음.
 
 3) conio.h
     
     ```c
     int kbhit(void);
     ```
     키보드 입력 버퍼에 키 입력이 있는지 여부를 확인하기 위해 사용함. 키보드 입력 버퍼를 확인하여 키 입력이 있으면 0이 아닌 값을 반환하고, 그렇지 않으면 0을 반환함.
     
     ```c
     int _getch(void);
     ```
     사용자로부터 즉시 하나의 키 입력을 받아올 때 사용됨. 키를 누를 때까지 기다리지 않고 즉시 반환되며, 눌린 키의 ASCII 코드 값을 반환함.
 
 4) stdint.h
     
     ```c
     unit32_t
     ```
     부호 없는 32비트 정수를 나타내는 정수형 데이터 타입
 
 5) time.h
     
     ```c
     clock_t
     ```
     시간 측정에 사용되는 데이터 형식. 프로그램 실행 시간을 측정하거나 비교하는 데 사용됨. 주요 용도 중 하나는 clock() 함수가 반환하는 값을 저장하는 것임. 이를 사용하여 프로그램 실행 시간을 계산하거나 함수 또는 코드 블록이 실행된 시간을 측정할 수 있음.
     
     ```c
     clock_t clock(void);
     ```
     프로그램이 시작된 이후에 소요된 클럭 틱 수를 반환함.

     ```c
     CLOCKS_PER_SEC
     ```
     초당 클럭 틱 수를 나타내는 매크로 상수. clock() 함수의 반환 값을 초 단위로 변환하기 위해 사용됨.
     *클럭: 일반적으로 컴퓨터 하드웨어에서 제공되는 일정한 주기로 반복되는 신호
     *클럭 틱: 시스템의 기본 클럭 주기에 따라 측정되는 시간의 단위
     *클럭 틱 수: 클럭이 발생한 횟수